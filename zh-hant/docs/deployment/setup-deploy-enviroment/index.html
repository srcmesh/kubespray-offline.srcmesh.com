<!DOCTYPE html>





    
        
    

    

    

    

<html lang="zh-Hant"><head>
    <meta charset="utf-8" />
    <title>準備部署環境 | Srcmesh</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="部署主機環境建置與前置設定">
    <meta name="keywords" content="Documentation, Hugo, Hugo Theme, Bootstrap" />
    <meta name="author" content="Colin Wilson - Lotus Labs" />
    <meta name="email" content="support@aigis.uk" />
    <meta name="website" content="https://lotusdocs.dev" />
    <meta name="Version" content="v0.1.0" />
    
    <link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="/site.webmanifest">
<meta property="og:title" content="準備部署環境" />
<meta property="og:description" content="部署主機環境建置與前置設定" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/zh-hant/docs/deployment/setup-deploy-enviroment/" /><meta property="og:image" content="/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_4392022698526662144.png"/><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2023-08-25T15:52:21+01:00" />
<meta property="article:modified_time" content="2024-01-17T15:36:52+00:00" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_4392022698526662144.png"/>
<meta name="twitter:title" content="準備部署環境"/>
<meta name="twitter:description" content="部署主機環境建置與前置設定"/>

    
    
    
            
                
                <script type="text/javascript" src="/docs/js/flexsearch.bundle.min.70b92c4c5202c26b45d7aa43e130e8440032cac751b9b9206ddba2052699286ac95beb01bb7f975514cc694a019a03c8.js" integrity="sha384-cLksTFICwmtF16pD4TDoRAAyysdRubkgbduiBSaZKGrJW&#43;sBu3&#43;XVRTMaUoBmgPI" crossorigin="anonymous"></script>
                
        
    
    
    
    
        
        
        
        
    
        
        
        
        
    
    
    <link rel="preconnect" href="https://fonts.gstatic.com/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link href="https://fonts.googleapis.com/css?family=Inter:300,400,600,700|Fira+Code:500,700&display=block" rel="stylesheet">

    <link rel="stylesheet" href="/docs/scss/style.min.473c98819032203dff8270a131ef92a980babf87a32a92816e94034dc750d1f63fe3911fb815c6700d6ef27ddb93cb14.css" integrity="sha384-RzyYgZAyID3/gnChMe&#43;SqYC6v4ejKpKBbpQDTcdQ0fY/45EfuBXGcA1u8n3bk8sU"crossorigin="anonymous">
    <link rel="stylesheet" href="/css/custom.css"/>

    
    

    
    
    
    <script defer data-domain="lotusdocs.dev" data-api='/docs/s/api/event/' src='/docs/s/js/script.outbound-links.js'></script>
<script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script></head><body>
        <div class="content">
            <div class="page-wrapper toggled">
<nav id="sidebar" class="sidebar-wrapper">
    <div class="sidebar-brand">
        <a href='/zh-hant/docs' aria-label="HomePage" alt="HomePage">
            
                <?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="158px" height="30px" viewBox="0 0 158 30" version="1.1">
<g id="surface1">
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(89.019608%,7.843137%,52.941176%);fill-opacity:1;" d="M 13.441406 0.0117188 L 0 7.652344 L 26.699219 22.335938 L 26.699219 17.515625 L 8.847656 7.652344 L 13.441406 5.046875 Z M 13.441406 0.0117188 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(74.901961%,5.882353%,45.098039%);fill-opacity:1;" d="M 13.441406 0 L 26.699219 7.652344 L 26.699219 12.492188 L 13.441406 5.039062 Z M 13.441406 0 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(59.607843%,65.490196%,67.058824%);fill-opacity:1;" d="M 10.605469 7.65625 L 13.78125 9.40625 L 16.65625 7.777344 L 13.457031 6.015625 Z M 10.605469 7.65625 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(69.019608%,75.686275%,75.294118%);fill-opacity:1;" d="M 14.664062 9.894531 L 18.355469 11.921875 L 21.214844 10.285156 L 17.527344 8.269531 Z M 14.664062 9.894531 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(77.254902%,84.313725%,83.921569%);fill-opacity:1;" d="M 19.160156 12.371094 L 23.105469 14.535156 L 25.964844 12.90625 L 22.035156 10.742188 Z M 19.160156 12.371094 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(19.215686%,5.098039%,36.470588%);fill-opacity:1;" d="M 13.265625 29.980469 L 26.707031 22.34375 L 0.0078125 7.660156 L 0.0078125 12.480469 L 17.859375 22.34375 L 13.265625 24.949219 Z M 13.265625 29.980469 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(74.901961%,5.882353%,45.098039%);fill-opacity:1;" d="M 13.265625 29.996094 L 0.0078125 22.34375 L 0.0078125 17.503906 L 13.265625 24.957031 Z M 13.265625 29.996094 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(59.607843%,65.490196%,67.058824%);fill-opacity:1;" d="M 16.105469 22.339844 L 12.929688 20.589844 L 10.050781 22.21875 L 13.25 23.976562 Z M 16.105469 22.339844 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(69.019608%,75.686275%,75.294118%);fill-opacity:1;" d="M 12.042969 20.101562 L 8.355469 18.074219 L 5.492188 19.707031 L 9.179688 21.726562 Z M 12.042969 20.101562 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(77.254902%,84.313725%,83.921569%);fill-opacity:1;" d="M 7.546875 17.625 L 3.605469 15.457031 L 0.746094 17.089844 L 4.671875 19.253906 Z M 7.546875 17.625 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(19.215686%,5.098039%,36.470588%);fill-opacity:1;" d="M 37.328125 19.386719 C 37.605469 19.6875 37.933594 19.996094 38.308594 20.304688 C 38.683594 20.617188 39.101562 20.902344 39.5625 21.160156 C 40.027344 21.417969 40.53125 21.628906 41.078125 21.789062 C 41.625 21.953125 42.207031 22.03125 42.832031 22.03125 C 43.195312 22.03125 43.558594 21.976562 43.925781 21.871094 C 44.289062 21.761719 44.621094 21.609375 44.921875 21.402344 C 45.222656 21.199219 45.464844 20.953125 45.644531 20.660156 C 45.828125 20.371094 45.917969 20.042969 45.917969 19.675781 C 45.917969 18.882812 45.535156 18.261719 44.761719 17.824219 C 43.988281 17.382812 42.765625 16.945312 41.09375 16.515625 C 40.277344 16.324219 39.519531 16.042969 38.824219 15.675781 C 38.128906 15.3125 37.527344 14.871094 37.023438 14.355469 C 36.519531 13.839844 36.125 13.246094 35.847656 12.582031 C 35.570312 11.914062 35.429688 11.171875 35.429688 10.355469 C 35.429688 9.453125 35.589844 8.601562 35.910156 7.804688 C 36.234375 7.011719 36.722656 6.304688 37.375 5.695312 C 38.03125 5.082031 38.84375 4.597656 39.820312 4.242188 C 40.796875 3.886719 41.949219 3.710938 43.28125 3.710938 C 44.375 3.710938 45.339844 3.824219 46.175781 4.046875 C 47.015625 4.273438 47.726562 4.542969 48.316406 4.855469 C 48.90625 5.167969 49.390625 5.488281 49.765625 5.824219 C 50.140625 6.15625 50.425781 6.417969 50.617188 6.613281 L 47.816406 9.710938 C 47.582031 9.515625 47.308594 9.304688 46.996094 9.082031 C 46.6875 8.855469 46.339844 8.644531 45.953125 8.453125 C 45.566406 8.257812 45.140625 8.097656 44.679688 7.96875 C 44.21875 7.839844 43.730469 7.773438 43.214844 7.773438 C 42.875 7.773438 42.535156 7.828125 42.203125 7.933594 C 41.871094 8.042969 41.570312 8.1875 41.300781 8.371094 C 41.035156 8.554688 40.820312 8.769531 40.660156 9.015625 C 40.496094 9.261719 40.417969 9.527344 40.417969 9.804688 C 40.417969 10.539062 40.804688 11.128906 41.574219 11.582031 C 42.347656 12.03125 43.410156 12.410156 44.761719 12.710938 C 45.554688 12.902344 46.332031 13.167969 47.09375 13.5 C 47.855469 13.832031 48.535156 14.269531 49.136719 14.804688 C 49.738281 15.34375 50.222656 16.003906 50.585938 16.789062 C 50.949219 17.574219 51.132812 18.527344 51.132812 19.644531 C 51.132812 20.613281 50.917969 21.503906 50.488281 22.324219 C 50.058594 23.140625 49.476562 23.847656 48.734375 24.453125 C 47.996094 25.054688 47.125 25.523438 46.128906 25.855469 C 45.132812 26.1875 44.054688 26.355469 42.894531 26.355469 C 41.820312 26.355469 40.847656 26.253906 39.964844 26.046875 C 39.085938 25.84375 38.292969 25.574219 37.585938 25.242188 C 36.878906 24.910156 36.238281 24.527344 35.671875 24.097656 C 35.101562 23.667969 34.613281 23.226562 34.207031 22.773438 Z M 54.351562 10.675781 L 58.792969 10.675781 L 58.953125 12.582031 C 59.339844 12.066406 59.871094 11.570312 60.546875 11.097656 C 61.222656 10.625 62.09375 10.386719 63.167969 10.386719 C 63.574219 10.386719 63.925781 10.410156 64.214844 10.453125 C 64.503906 10.496094 64.789062 10.570312 65.066406 10.675781 L 64.328125 14.773438 C 63.855469 14.625 63.296875 14.546875 62.652344 14.546875 C 61.558594 14.546875 60.675781 14.875 60 15.53125 C 59.324219 16.1875 58.984375 17.117188 58.984375 18.324219 L 58.984375 25.804688 L 54.351562 25.804688 Z M 80.542969 23.804688 C 79.921875 24.496094 79.101562 25.085938 78.082031 25.582031 C 77.0625 26.074219 75.855469 26.324219 74.460938 26.324219 C 73.238281 26.324219 72.128906 26.125 71.132812 25.726562 C 70.132812 25.328125 69.28125 24.769531 68.574219 24.046875 C 67.867188 23.328125 67.3125 22.472656 66.917969 21.484375 C 66.519531 20.496094 66.320312 19.410156 66.320312 18.226562 C 66.320312 17.109375 66.523438 16.058594 66.933594 15.082031 C 67.339844 14.101562 67.902344 13.246094 68.621094 12.515625 C 69.339844 11.785156 70.199219 11.210938 71.195312 10.789062 C 72.195312 10.371094 73.28125 10.160156 74.460938 10.160156 C 75.835938 10.160156 77.027344 10.386719 78.035156 10.839844 C 79.042969 11.289062 79.890625 11.890625 80.578125 12.644531 L 77.777344 15.675781 C 77.433594 15.289062 77.015625 14.945312 76.523438 14.644531 C 76.027344 14.34375 75.375 14.195312 74.558594 14.195312 C 74 14.195312 73.503906 14.304688 73.0625 14.53125 C 72.625 14.757812 72.246094 15.054688 71.9375 15.417969 C 71.625 15.785156 71.390625 16.210938 71.230469 16.695312 C 71.066406 17.175781 70.988281 17.6875 70.988281 18.226562 C 70.988281 18.71875 71.066406 19.210938 71.230469 19.695312 C 71.390625 20.175781 71.625 20.609375 71.9375 20.984375 C 72.246094 21.359375 72.625 21.667969 73.0625 21.902344 C 73.503906 22.140625 74 22.257812 74.558594 22.257812 C 75.351562 22.257812 76.019531 22.101562 76.554688 21.789062 C 77.089844 21.476562 77.519531 21.140625 77.839844 20.773438 Z M 82.667969 10.675781 L 87.109375 10.675781 L 87.269531 12.355469 C 87.742188 11.773438 88.34375 11.289062 89.070312 10.902344 C 89.800781 10.515625 90.660156 10.324219 91.644531 10.324219 C 92.246094 10.324219 92.785156 10.386719 93.253906 10.515625 C 93.726562 10.644531 94.140625 10.8125 94.496094 11.015625 C 94.847656 11.21875 95.160156 11.445312 95.425781 11.695312 C 95.695312 11.941406 95.914062 12.183594 96.085938 12.417969 C 96.710938 11.753906 97.464844 11.238281 98.355469 10.871094 C 99.246094 10.503906 100.175781 10.324219 101.140625 10.324219 C 103.070312 10.324219 104.546875 10.871094 105.5625 11.96875 C 106.582031 13.066406 107.09375 14.558594 107.09375 16.453125 L 107.09375 25.804688 L 102.457031 25.804688 L 102.457031 17.195312 C 102.457031 16.289062 102.261719 15.589844 101.863281 15.097656 C 101.464844 14.601562 100.871094 14.355469 100.078125 14.355469 C 99.175781 14.355469 98.457031 14.667969 97.921875 15.289062 C 97.386719 15.914062 97.117188 16.710938 97.117188 17.675781 L 97.117188 25.804688 L 92.644531 25.804688 L 92.644531 17.195312 C 92.644531 16.289062 92.445312 15.589844 92.046875 15.097656 C 91.652344 14.601562 91.054688 14.355469 90.261719 14.355469 C 89.382812 14.355469 88.667969 14.667969 88.121094 15.289062 C 87.574219 15.914062 87.300781 16.710938 87.300781 17.675781 L 87.300781 25.804688 L 82.667969 25.804688 Z M 124.695312 24.160156 C 124.523438 24.269531 124.265625 24.445312 123.921875 24.695312 C 123.578125 24.941406 123.132812 25.183594 122.585938 25.417969 C 122.039062 25.65625 121.390625 25.867188 120.640625 26.046875 C 119.890625 26.230469 119.03125 26.324219 118.066406 26.324219 C 116.777344 26.324219 115.621094 26.125 114.589844 25.726562 C 113.558594 25.328125 112.6875 24.773438 111.96875 24.066406 C 111.25 23.355469 110.703125 22.5 110.328125 21.5 C 109.949219 20.5 109.761719 19.398438 109.761719 18.195312 C 109.761719 17.140625 109.941406 16.125 110.292969 15.144531 C 110.648438 14.167969 111.15625 13.3125 111.824219 12.582031 C 112.488281 11.847656 113.304688 11.261719 114.269531 10.824219 C 115.234375 10.382812 116.328125 10.160156 117.550781 10.160156 C 118.773438 10.160156 119.847656 10.375 120.769531 10.804688 C 121.691406 11.238281 122.46875 11.832031 123.101562 12.597656 C 123.734375 13.359375 124.210938 14.273438 124.535156 15.339844 C 124.855469 16.402344 125.015625 17.570312 125.015625 18.839844 L 125.015625 19.613281 L 114.269531 19.613281 C 114.289062 20.429688 114.648438 21.144531 115.347656 21.757812 C 116.042969 22.371094 117.003906 22.675781 118.226562 22.675781 C 119.429688 22.675781 120.402344 22.5 121.15625 22.144531 C 121.90625 21.789062 122.453125 21.484375 122.796875 21.226562 Z M 120.640625 16.644531 C 120.640625 16.324219 120.574219 15.996094 120.445312 15.660156 C 120.316406 15.328125 120.125 15.023438 119.867188 14.742188 C 119.609375 14.460938 119.289062 14.230469 118.902344 14.046875 C 118.515625 13.867188 118.054688 13.773438 117.519531 13.773438 C 116.980469 13.773438 116.511719 13.867188 116.101562 14.046875 C 115.695312 14.230469 115.355469 14.460938 115.089844 14.742188 C 114.820312 15.023438 114.617188 15.328125 114.476562 15.660156 C 114.339844 15.996094 114.269531 16.324219 114.269531 16.644531 Z M 129.199219 21.128906 C 129.691406 21.582031 130.34375 21.957031 131.144531 22.257812 C 131.949219 22.558594 132.730469 22.710938 133.480469 22.710938 C 134.164062 22.710938 134.734375 22.625 135.183594 22.453125 C 135.636719 22.28125 135.859375 21.945312 135.859375 21.453125 C 135.859375 21.257812 135.8125 21.082031 135.714844 20.917969 C 135.621094 20.757812 135.441406 20.609375 135.183594 20.46875 C 134.925781 20.328125 134.566406 20.183594 134.105469 20.03125 C 133.644531 19.882812 133.0625 19.710938 132.351562 19.515625 C 131.773438 19.367188 131.199219 19.167969 130.632812 18.917969 C 130.0625 18.671875 129.558594 18.367188 129.121094 18 C 128.679688 17.632812 128.324219 17.195312 128.058594 16.675781 C 127.789062 16.160156 127.65625 15.558594 127.65625 14.871094 C 127.65625 14.160156 127.816406 13.523438 128.136719 12.953125 C 128.460938 12.382812 128.90625 11.886719 129.472656 11.46875 C 130.042969 11.046875 130.71875 10.726562 131.5 10.5 C 132.285156 10.273438 133.125 10.160156 134.027344 10.160156 C 135.3125 10.160156 136.441406 10.304688 137.40625 10.597656 C 138.371094 10.886719 139.261719 11.3125 140.074219 11.871094 L 138.113281 14.933594 C 137.621094 14.613281 137.058594 14.324219 136.425781 14.066406 C 135.789062 13.804688 135.078125 13.675781 134.285156 13.675781 C 133.574219 13.675781 133.0625 13.78125 132.738281 13.984375 C 132.417969 14.1875 132.257812 14.460938 132.257812 14.804688 C 132.257812 15.300781 132.589844 15.667969 133.253906 15.902344 C 133.917969 16.140625 134.820312 16.410156 135.957031 16.710938 C 137.5 17.140625 138.621094 17.730469 139.320312 18.484375 C 140.015625 19.238281 140.367188 20.238281 140.367188 21.484375 C 140.367188 22.324219 140.179688 23.042969 139.800781 23.644531 C 139.425781 24.246094 138.921875 24.746094 138.289062 25.144531 C 137.65625 25.542969 136.9375 25.839844 136.132812 26.03125 C 135.328125 26.226562 134.507812 26.324219 133.671875 26.324219 C 132.320312 26.324219 131.042969 26.140625 129.84375 25.773438 C 128.640625 25.410156 127.664062 24.847656 126.914062 24.097656 Z M 143.164062 4.289062 L 147.765625 4.289062 L 147.765625 12.128906 C 148.261719 11.546875 148.914062 11.101562 149.730469 10.789062 C 150.546875 10.476562 151.371094 10.324219 152.207031 10.324219 C 153.945312 10.324219 155.335938 10.839844 156.375 11.871094 C 157.414062 12.902344 157.9375 14.429688 157.9375 16.453125 L 157.9375 25.804688 L 153.335938 25.804688 L 153.335938 17.160156 C 153.335938 16.28125 153.109375 15.589844 152.660156 15.097656 C 152.207031 14.601562 151.605469 14.355469 150.855469 14.355469 C 150.363281 14.355469 149.921875 14.445312 149.535156 14.628906 C 149.152344 14.8125 148.828125 15.054688 148.570312 15.355469 C 148.3125 15.65625 148.121094 16.003906 147.992188 16.402344 C 147.863281 16.800781 147.800781 17.226562 147.800781 17.675781 L 147.800781 25.804688 L 143.164062 25.804688 Z M 143.164062 4.289062 "/>
</g>
</svg>

            
        </a>
    </div>
    <div class="sidebar-content" style="height: calc(100% - 131px);">
        <ul class="sidebar-menu">
            
                
                
                    
                    
                        <li class="sidebar-dropdown  current active">
                            <button class="btn">
                                <i class="material-icons me-2">deployed_code</i>
                                Kubernetes 叢集建置
                            </button>
                            <div class="sidebar-submenu d-block">
                                <ul>
                                    
                                        
                                        
                                            <li class="current "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/setup-deploy-enviroment/">準備部署環境</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/enter-kubespray-exe-env/">啟動 Kubespray 執行環境</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/config-adjustment/">部署參數調整</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/installation/">安裝 Kubernetes</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/upgrade/">升級 Kubernetes</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/troubleshooting/">故障排除</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="/zh-hant/docs/deployment/kubernetes-ports/">Kubernetes 埠號</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
            
        </ul>
        
    </div>
    
        <ul class="sidebar-footer list-unstyled mb-0">
            
        </ul>
    
</nav>

                    <main class="page-content bg-transparent">
                        
<div id="top-header" class="top-header d-print-none">
    <div class="header-bar d-flex justify-content-between">
        <div class="d-flex align-items-center">
            <a href='https://srcmesh.com' class="logo-icon me-3" aria-label="HomePage" alt="HomePage">
                <div class="small">
                    
                            <?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26px" height="30px" viewBox="0 0 26 30" version="1.1">
<g id="surface1">
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(89.019608%,7.843137%,52.941176%);fill-opacity:1;" d="M 13.085938 0.0117188 L 0 7.652344 L 25.992188 22.335938 L 25.992188 17.515625 L 8.613281 7.652344 L 13.085938 5.046875 Z M 13.085938 0.0117188 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(74.901961%,5.882353%,45.098039%);fill-opacity:1;" d="M 13.085938 0 L 25.992188 7.652344 L 25.992188 12.492188 L 13.085938 5.039062 Z M 13.085938 0 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(59.607843%,65.490196%,67.058824%);fill-opacity:1;" d="M 10.324219 7.65625 L 13.414062 9.40625 L 16.214844 7.777344 L 13.101562 6.015625 Z M 10.324219 7.65625 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(69.019608%,75.686275%,75.294118%);fill-opacity:1;" d="M 14.277344 9.894531 L 17.867188 11.921875 L 20.652344 10.285156 L 17.0625 8.269531 Z M 14.277344 9.894531 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(77.254902%,84.313725%,83.921569%);fill-opacity:1;" d="M 18.652344 12.371094 L 22.492188 14.535156 L 25.273438 12.90625 L 21.453125 10.742188 Z M 18.652344 12.371094 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(19.215686%,5.098039%,36.470588%);fill-opacity:1;" d="M 12.914062 29.980469 L 26 22.34375 L 0.0078125 7.660156 L 0.0078125 12.480469 L 17.386719 22.34375 L 12.914062 24.949219 Z M 12.914062 29.980469 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(74.901961%,5.882353%,45.098039%);fill-opacity:1;" d="M 12.914062 29.996094 L 0.0078125 22.34375 L 0.0078125 17.503906 L 12.914062 24.957031 Z M 12.914062 29.996094 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(59.607843%,65.490196%,67.058824%);fill-opacity:1;" d="M 15.675781 22.339844 L 12.585938 20.589844 L 9.785156 22.21875 L 12.898438 23.976562 Z M 15.675781 22.339844 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(69.019608%,75.686275%,75.294118%);fill-opacity:1;" d="M 11.722656 20.101562 L 8.132812 18.074219 L 5.347656 19.707031 L 8.9375 21.726562 Z M 11.722656 20.101562 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(77.254902%,84.313725%,83.921569%);fill-opacity:1;" d="M 7.347656 17.625 L 3.507812 15.457031 L 0.726562 17.089844 L 4.546875 19.253906 Z M 7.347656 17.625 "/>
</g>
</svg>

                    
                </div>
                <div class="big">
                    
                            <?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="158px" height="30px" viewBox="0 0 158 30" version="1.1">
<g id="surface1">
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(89.019608%,7.843137%,52.941176%);fill-opacity:1;" d="M 13.441406 0.0117188 L 0 7.652344 L 26.699219 22.335938 L 26.699219 17.515625 L 8.847656 7.652344 L 13.441406 5.046875 Z M 13.441406 0.0117188 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(74.901961%,5.882353%,45.098039%);fill-opacity:1;" d="M 13.441406 0 L 26.699219 7.652344 L 26.699219 12.492188 L 13.441406 5.039062 Z M 13.441406 0 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(59.607843%,65.490196%,67.058824%);fill-opacity:1;" d="M 10.605469 7.65625 L 13.78125 9.40625 L 16.65625 7.777344 L 13.457031 6.015625 Z M 10.605469 7.65625 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(69.019608%,75.686275%,75.294118%);fill-opacity:1;" d="M 14.664062 9.894531 L 18.355469 11.921875 L 21.214844 10.285156 L 17.527344 8.269531 Z M 14.664062 9.894531 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(77.254902%,84.313725%,83.921569%);fill-opacity:1;" d="M 19.160156 12.371094 L 23.105469 14.535156 L 25.964844 12.90625 L 22.035156 10.742188 Z M 19.160156 12.371094 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(19.215686%,5.098039%,36.470588%);fill-opacity:1;" d="M 13.265625 29.980469 L 26.707031 22.34375 L 0.0078125 7.660156 L 0.0078125 12.480469 L 17.859375 22.34375 L 13.265625 24.949219 Z M 13.265625 29.980469 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(74.901961%,5.882353%,45.098039%);fill-opacity:1;" d="M 13.265625 29.996094 L 0.0078125 22.34375 L 0.0078125 17.503906 L 13.265625 24.957031 Z M 13.265625 29.996094 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(59.607843%,65.490196%,67.058824%);fill-opacity:1;" d="M 16.105469 22.339844 L 12.929688 20.589844 L 10.050781 22.21875 L 13.25 23.976562 Z M 16.105469 22.339844 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(69.019608%,75.686275%,75.294118%);fill-opacity:1;" d="M 12.042969 20.101562 L 8.355469 18.074219 L 5.492188 19.707031 L 9.179688 21.726562 Z M 12.042969 20.101562 "/>
<path style=" stroke:none;fill-rule:evenodd;fill:rgb(77.254902%,84.313725%,83.921569%);fill-opacity:1;" d="M 7.546875 17.625 L 3.605469 15.457031 L 0.746094 17.089844 L 4.671875 19.253906 Z M 7.546875 17.625 "/>
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(19.215686%,5.098039%,36.470588%);fill-opacity:1;" d="M 37.328125 19.386719 C 37.605469 19.6875 37.933594 19.996094 38.308594 20.304688 C 38.683594 20.617188 39.101562 20.902344 39.5625 21.160156 C 40.027344 21.417969 40.53125 21.628906 41.078125 21.789062 C 41.625 21.953125 42.207031 22.03125 42.832031 22.03125 C 43.195312 22.03125 43.558594 21.976562 43.925781 21.871094 C 44.289062 21.761719 44.621094 21.609375 44.921875 21.402344 C 45.222656 21.199219 45.464844 20.953125 45.644531 20.660156 C 45.828125 20.371094 45.917969 20.042969 45.917969 19.675781 C 45.917969 18.882812 45.535156 18.261719 44.761719 17.824219 C 43.988281 17.382812 42.765625 16.945312 41.09375 16.515625 C 40.277344 16.324219 39.519531 16.042969 38.824219 15.675781 C 38.128906 15.3125 37.527344 14.871094 37.023438 14.355469 C 36.519531 13.839844 36.125 13.246094 35.847656 12.582031 C 35.570312 11.914062 35.429688 11.171875 35.429688 10.355469 C 35.429688 9.453125 35.589844 8.601562 35.910156 7.804688 C 36.234375 7.011719 36.722656 6.304688 37.375 5.695312 C 38.03125 5.082031 38.84375 4.597656 39.820312 4.242188 C 40.796875 3.886719 41.949219 3.710938 43.28125 3.710938 C 44.375 3.710938 45.339844 3.824219 46.175781 4.046875 C 47.015625 4.273438 47.726562 4.542969 48.316406 4.855469 C 48.90625 5.167969 49.390625 5.488281 49.765625 5.824219 C 50.140625 6.15625 50.425781 6.417969 50.617188 6.613281 L 47.816406 9.710938 C 47.582031 9.515625 47.308594 9.304688 46.996094 9.082031 C 46.6875 8.855469 46.339844 8.644531 45.953125 8.453125 C 45.566406 8.257812 45.140625 8.097656 44.679688 7.96875 C 44.21875 7.839844 43.730469 7.773438 43.214844 7.773438 C 42.875 7.773438 42.535156 7.828125 42.203125 7.933594 C 41.871094 8.042969 41.570312 8.1875 41.300781 8.371094 C 41.035156 8.554688 40.820312 8.769531 40.660156 9.015625 C 40.496094 9.261719 40.417969 9.527344 40.417969 9.804688 C 40.417969 10.539062 40.804688 11.128906 41.574219 11.582031 C 42.347656 12.03125 43.410156 12.410156 44.761719 12.710938 C 45.554688 12.902344 46.332031 13.167969 47.09375 13.5 C 47.855469 13.832031 48.535156 14.269531 49.136719 14.804688 C 49.738281 15.34375 50.222656 16.003906 50.585938 16.789062 C 50.949219 17.574219 51.132812 18.527344 51.132812 19.644531 C 51.132812 20.613281 50.917969 21.503906 50.488281 22.324219 C 50.058594 23.140625 49.476562 23.847656 48.734375 24.453125 C 47.996094 25.054688 47.125 25.523438 46.128906 25.855469 C 45.132812 26.1875 44.054688 26.355469 42.894531 26.355469 C 41.820312 26.355469 40.847656 26.253906 39.964844 26.046875 C 39.085938 25.84375 38.292969 25.574219 37.585938 25.242188 C 36.878906 24.910156 36.238281 24.527344 35.671875 24.097656 C 35.101562 23.667969 34.613281 23.226562 34.207031 22.773438 Z M 54.351562 10.675781 L 58.792969 10.675781 L 58.953125 12.582031 C 59.339844 12.066406 59.871094 11.570312 60.546875 11.097656 C 61.222656 10.625 62.09375 10.386719 63.167969 10.386719 C 63.574219 10.386719 63.925781 10.410156 64.214844 10.453125 C 64.503906 10.496094 64.789062 10.570312 65.066406 10.675781 L 64.328125 14.773438 C 63.855469 14.625 63.296875 14.546875 62.652344 14.546875 C 61.558594 14.546875 60.675781 14.875 60 15.53125 C 59.324219 16.1875 58.984375 17.117188 58.984375 18.324219 L 58.984375 25.804688 L 54.351562 25.804688 Z M 80.542969 23.804688 C 79.921875 24.496094 79.101562 25.085938 78.082031 25.582031 C 77.0625 26.074219 75.855469 26.324219 74.460938 26.324219 C 73.238281 26.324219 72.128906 26.125 71.132812 25.726562 C 70.132812 25.328125 69.28125 24.769531 68.574219 24.046875 C 67.867188 23.328125 67.3125 22.472656 66.917969 21.484375 C 66.519531 20.496094 66.320312 19.410156 66.320312 18.226562 C 66.320312 17.109375 66.523438 16.058594 66.933594 15.082031 C 67.339844 14.101562 67.902344 13.246094 68.621094 12.515625 C 69.339844 11.785156 70.199219 11.210938 71.195312 10.789062 C 72.195312 10.371094 73.28125 10.160156 74.460938 10.160156 C 75.835938 10.160156 77.027344 10.386719 78.035156 10.839844 C 79.042969 11.289062 79.890625 11.890625 80.578125 12.644531 L 77.777344 15.675781 C 77.433594 15.289062 77.015625 14.945312 76.523438 14.644531 C 76.027344 14.34375 75.375 14.195312 74.558594 14.195312 C 74 14.195312 73.503906 14.304688 73.0625 14.53125 C 72.625 14.757812 72.246094 15.054688 71.9375 15.417969 C 71.625 15.785156 71.390625 16.210938 71.230469 16.695312 C 71.066406 17.175781 70.988281 17.6875 70.988281 18.226562 C 70.988281 18.71875 71.066406 19.210938 71.230469 19.695312 C 71.390625 20.175781 71.625 20.609375 71.9375 20.984375 C 72.246094 21.359375 72.625 21.667969 73.0625 21.902344 C 73.503906 22.140625 74 22.257812 74.558594 22.257812 C 75.351562 22.257812 76.019531 22.101562 76.554688 21.789062 C 77.089844 21.476562 77.519531 21.140625 77.839844 20.773438 Z M 82.667969 10.675781 L 87.109375 10.675781 L 87.269531 12.355469 C 87.742188 11.773438 88.34375 11.289062 89.070312 10.902344 C 89.800781 10.515625 90.660156 10.324219 91.644531 10.324219 C 92.246094 10.324219 92.785156 10.386719 93.253906 10.515625 C 93.726562 10.644531 94.140625 10.8125 94.496094 11.015625 C 94.847656 11.21875 95.160156 11.445312 95.425781 11.695312 C 95.695312 11.941406 95.914062 12.183594 96.085938 12.417969 C 96.710938 11.753906 97.464844 11.238281 98.355469 10.871094 C 99.246094 10.503906 100.175781 10.324219 101.140625 10.324219 C 103.070312 10.324219 104.546875 10.871094 105.5625 11.96875 C 106.582031 13.066406 107.09375 14.558594 107.09375 16.453125 L 107.09375 25.804688 L 102.457031 25.804688 L 102.457031 17.195312 C 102.457031 16.289062 102.261719 15.589844 101.863281 15.097656 C 101.464844 14.601562 100.871094 14.355469 100.078125 14.355469 C 99.175781 14.355469 98.457031 14.667969 97.921875 15.289062 C 97.386719 15.914062 97.117188 16.710938 97.117188 17.675781 L 97.117188 25.804688 L 92.644531 25.804688 L 92.644531 17.195312 C 92.644531 16.289062 92.445312 15.589844 92.046875 15.097656 C 91.652344 14.601562 91.054688 14.355469 90.261719 14.355469 C 89.382812 14.355469 88.667969 14.667969 88.121094 15.289062 C 87.574219 15.914062 87.300781 16.710938 87.300781 17.675781 L 87.300781 25.804688 L 82.667969 25.804688 Z M 124.695312 24.160156 C 124.523438 24.269531 124.265625 24.445312 123.921875 24.695312 C 123.578125 24.941406 123.132812 25.183594 122.585938 25.417969 C 122.039062 25.65625 121.390625 25.867188 120.640625 26.046875 C 119.890625 26.230469 119.03125 26.324219 118.066406 26.324219 C 116.777344 26.324219 115.621094 26.125 114.589844 25.726562 C 113.558594 25.328125 112.6875 24.773438 111.96875 24.066406 C 111.25 23.355469 110.703125 22.5 110.328125 21.5 C 109.949219 20.5 109.761719 19.398438 109.761719 18.195312 C 109.761719 17.140625 109.941406 16.125 110.292969 15.144531 C 110.648438 14.167969 111.15625 13.3125 111.824219 12.582031 C 112.488281 11.847656 113.304688 11.261719 114.269531 10.824219 C 115.234375 10.382812 116.328125 10.160156 117.550781 10.160156 C 118.773438 10.160156 119.847656 10.375 120.769531 10.804688 C 121.691406 11.238281 122.46875 11.832031 123.101562 12.597656 C 123.734375 13.359375 124.210938 14.273438 124.535156 15.339844 C 124.855469 16.402344 125.015625 17.570312 125.015625 18.839844 L 125.015625 19.613281 L 114.269531 19.613281 C 114.289062 20.429688 114.648438 21.144531 115.347656 21.757812 C 116.042969 22.371094 117.003906 22.675781 118.226562 22.675781 C 119.429688 22.675781 120.402344 22.5 121.15625 22.144531 C 121.90625 21.789062 122.453125 21.484375 122.796875 21.226562 Z M 120.640625 16.644531 C 120.640625 16.324219 120.574219 15.996094 120.445312 15.660156 C 120.316406 15.328125 120.125 15.023438 119.867188 14.742188 C 119.609375 14.460938 119.289062 14.230469 118.902344 14.046875 C 118.515625 13.867188 118.054688 13.773438 117.519531 13.773438 C 116.980469 13.773438 116.511719 13.867188 116.101562 14.046875 C 115.695312 14.230469 115.355469 14.460938 115.089844 14.742188 C 114.820312 15.023438 114.617188 15.328125 114.476562 15.660156 C 114.339844 15.996094 114.269531 16.324219 114.269531 16.644531 Z M 129.199219 21.128906 C 129.691406 21.582031 130.34375 21.957031 131.144531 22.257812 C 131.949219 22.558594 132.730469 22.710938 133.480469 22.710938 C 134.164062 22.710938 134.734375 22.625 135.183594 22.453125 C 135.636719 22.28125 135.859375 21.945312 135.859375 21.453125 C 135.859375 21.257812 135.8125 21.082031 135.714844 20.917969 C 135.621094 20.757812 135.441406 20.609375 135.183594 20.46875 C 134.925781 20.328125 134.566406 20.183594 134.105469 20.03125 C 133.644531 19.882812 133.0625 19.710938 132.351562 19.515625 C 131.773438 19.367188 131.199219 19.167969 130.632812 18.917969 C 130.0625 18.671875 129.558594 18.367188 129.121094 18 C 128.679688 17.632812 128.324219 17.195312 128.058594 16.675781 C 127.789062 16.160156 127.65625 15.558594 127.65625 14.871094 C 127.65625 14.160156 127.816406 13.523438 128.136719 12.953125 C 128.460938 12.382812 128.90625 11.886719 129.472656 11.46875 C 130.042969 11.046875 130.71875 10.726562 131.5 10.5 C 132.285156 10.273438 133.125 10.160156 134.027344 10.160156 C 135.3125 10.160156 136.441406 10.304688 137.40625 10.597656 C 138.371094 10.886719 139.261719 11.3125 140.074219 11.871094 L 138.113281 14.933594 C 137.621094 14.613281 137.058594 14.324219 136.425781 14.066406 C 135.789062 13.804688 135.078125 13.675781 134.285156 13.675781 C 133.574219 13.675781 133.0625 13.78125 132.738281 13.984375 C 132.417969 14.1875 132.257812 14.460938 132.257812 14.804688 C 132.257812 15.300781 132.589844 15.667969 133.253906 15.902344 C 133.917969 16.140625 134.820312 16.410156 135.957031 16.710938 C 137.5 17.140625 138.621094 17.730469 139.320312 18.484375 C 140.015625 19.238281 140.367188 20.238281 140.367188 21.484375 C 140.367188 22.324219 140.179688 23.042969 139.800781 23.644531 C 139.425781 24.246094 138.921875 24.746094 138.289062 25.144531 C 137.65625 25.542969 136.9375 25.839844 136.132812 26.03125 C 135.328125 26.226562 134.507812 26.324219 133.671875 26.324219 C 132.320312 26.324219 131.042969 26.140625 129.84375 25.773438 C 128.640625 25.410156 127.664062 24.847656 126.914062 24.097656 Z M 143.164062 4.289062 L 147.765625 4.289062 L 147.765625 12.128906 C 148.261719 11.546875 148.914062 11.101562 149.730469 10.789062 C 150.546875 10.476562 151.371094 10.324219 152.207031 10.324219 C 153.945312 10.324219 155.335938 10.839844 156.375 11.871094 C 157.414062 12.902344 157.9375 14.429688 157.9375 16.453125 L 157.9375 25.804688 L 153.335938 25.804688 L 153.335938 17.160156 C 153.335938 16.28125 153.109375 15.589844 152.660156 15.097656 C 152.207031 14.601562 151.605469 14.355469 150.855469 14.355469 C 150.363281 14.355469 149.921875 14.445312 149.535156 14.628906 C 149.152344 14.8125 148.828125 15.054688 148.570312 15.355469 C 148.3125 15.65625 148.121094 16.003906 147.992188 16.402344 C 147.863281 16.800781 147.800781 17.226562 147.800781 17.675781 L 147.800781 25.804688 L 143.164062 25.804688 Z M 143.164062 4.289062 "/>
</g>
</svg>

                    
                </div>
            </a>
            <button id="close-sidebar" class="btn btn-icon btn-soft">
                <span class="material-icons size-20 menu-icon align-middle">menu</span>
            </button>
            
            
                    
                    <button id="flexsearch-button" class="ms-3 btn btn-soft" data-bs-toggle="collapse" data-bs-target="#FlexSearchCollapse" aria-expanded="false" aria-controls="FlexSearchCollapse">
                        <span class="material-icons size-20 menu-icon align-middle">search</span>
                        <span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block"></span>
                        <div class="d-none d-sm-block">
                            <span class="flexsearch-button-keys">
                                <kbd class="flexsearch-button-cmd-key">
                                    <svg width="44" height="15"><path d="M2.118,11.5A1.519,1.519,0,0,1,1,11.042,1.583,1.583,0,0,1,1,8.815a1.519,1.519,0,0,1,1.113-.458h.715V6.643H2.118A1.519,1.519,0,0,1,1,6.185,1.519,1.519,0,0,1,.547,5.071,1.519,1.519,0,0,1,1,3.958,1.519,1.519,0,0,1,2.118,3.5a1.519,1.519,0,0,1,1.114.458A1.519,1.519,0,0,1,3.69,5.071v.715H5.4V5.071A1.564,1.564,0,0,1,6.976,3.5,1.564,1.564,0,0,1,8.547,5.071,1.564,1.564,0,0,1,6.976,6.643H6.261V8.357h.715a1.575,1.575,0,0,1,1.113,2.685,1.583,1.583,0,0,1-2.227,0A1.519,1.519,0,0,1,5.4,9.929V9.214H3.69v.715a1.519,1.519,0,0,1-.458,1.113A1.519,1.519,0,0,1,2.118,11.5Zm0-.857a.714.714,0,0,0,.715-.714V9.214H2.118a.715.715,0,1,0,0,1.429Zm4.858,0a.715.715,0,1,0,0-1.429H6.261v.715a.714.714,0,0,0,.715.714ZM3.69,8.357H5.4V6.643H3.69ZM2.118,5.786h.715V5.071a.714.714,0,0,0-.715-.714.715.715,0,0,0-.5,1.22A.686.686,0,0,0,2.118,5.786Zm4.143,0h.715a.715.715,0,0,0,.5-1.22.715.715,0,0,0-1.22.5Z" fill="currentColor"></path><path d="M12.4,11.475H11.344l3.879-7.95h1.056Z" fill="currentColor"></path><path d="M25.073,5.384l-.864.576a2.121,2.121,0,0,0-1.786-.923,2.207,2.207,0,0,0-2.266,2.326,2.206,2.206,0,0,0,2.266,2.325,2.1,2.1,0,0,0,1.782-.918l.84.617a3.108,3.108,0,0,1-2.622,1.293,3.217,3.217,0,0,1-3.349-3.317,3.217,3.217,0,0,1,3.349-3.317A3.046,3.046,0,0,1,25.073,5.384Z" fill="currentColor"></path><path d="M30.993,5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172Z" fill="currentColor"></path><path d="M34.67,4.164c1.471,0,2.266.658,2.266,1.851,0,1.087-.832,1.809-2.134,1.855l2.107,2.691h-1.28L33.591,7.87H33.07v2.691H32.038v-6.4Zm-1.6.969v1.8h1.572c.832,0,1.22-.3,1.22-.918s-.411-.882-1.22-.882Z" fill="currentColor"></path><path d="M42.883,10.561H38.31v-6.4h1.033V9.583h3.54Z" fill="currentColor"></path></svg>
                                </kbd>
                                <kbd class="flexsearch-button-key">
                                    <svg width="15" height="15"><path d="M5.926,12.279H4.41L9.073,2.721H10.59Z" fill="currentColor"/></svg>
                                </kbd>
                            </span>
                        </div>
                    </button>
                
            </div>

        <div class="d-flex align-items-center">
            
            
                <div class="dropdown">
                    <button class="btn btn-link btn-default dropdown-toggle ps-2" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        
                            
                            Stable
                    </button>
                    <ul class="dropdown-menu text-end">
                        
    <li><a class="dropdown-item" href="https://nightly--ubiquitous-pudding-8cedc2.netlify.app/zh-hant/docs/deployment/config-adjustment/">Nightly</a></li>
    

    

                    </ul>
                </div>
            
            <ul class="list-unstyled mb-0">
                
                
                    
                    <li class="list-inline-item mb-0">
                        <a href=" https://github.com/srcmesh/srcmesh " alt="github" rel="noopener noreferrer" target="_blank">
                            <div class="btn btn-icon btn-default border-0">
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                                
                            </div>
                        </a>
                    </li>
                    
                
            </ul>
            </div>
    </div>
    
    
            <div class="collapse" id="FlexSearchCollapse">
                <div class="flexsearch-container">
                    <div class="flexsearch-keymap">
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to navigate</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to select</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to close</span>
                        </li>
                    </div>
                    <form class="flexsearch position-relative flex-grow-1 ms-2 me-2">
                        <div class="d-flex flex-row">
                            <input id="flexsearch" class="form-control" type="search" placeholder="" aria-label="" autocomplete="off">
                            <button id="hideFlexsearch" type="button" class="ms-2 btn btn-soft">
                                cancel
                            </button>
                        </div>
                        <div id="suggestions" class="shadow rounded-1 d-none"></div>
                    </form>
                </div>
            </div>
        
    
    
</div>

                            <div class="container-fluid">
                                <div class="layout-spacing">
                                    
                                        <div class="d-md-flex justify-content-between align-items-center"><nav aria-label="breadcrumb" class="d-inline-block pb-2 mt-1 mt-sm-0">
    <ul id="breadcrumbs" class="breadcrumb bg-transparent mb-0" itemscope itemtype="https://schema.org/BreadcrumbList">
        
            
                <li class="breadcrumb-item text-capitalize active" aria-current="page" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/zh-hant/docs/">
                        <i class="material-icons size-20 align-text-bottom" itemprop="name">Home</i>
                    </a>
                    <meta itemprop="position" content='1' />
                </li>
            
            
                <li class="breadcrumb-item text-capitalize" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/zh-hant/docs/deployment/">
                        <span itemprop="name">Kubernetes 叢集建置</span>
                    </a>
                    <meta itemprop="position" content='2' />
                </li>
            
        
            <li class="breadcrumb-item text-capitalize active" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                <span itemprop="name">準備部署環境</span>
                <meta itemprop="position" content='3' />
            </li>
        
    </ul>
</nav></div>
                                    
                                    <div class="row flex-xl-nowrap">
                                        
                                        <div class="docs-toc col-xl-3    d-xl-block"><toc>
    <div class="fw-bold text-uppercase mb-2">On this page</div>
    <nav id="toc">
  <ul>
    <li><a href="#環境初步設置">環境初步設置</a>
      <ul>
        <li><a href="#名詞解釋">名詞解釋</a></li>
      </ul>
    </li>
    <li><a href="#部署主機安裝">部署主機安裝</a>
      <ul>
        <li><a href="#系統要求">系統要求</a></li>
        <li><a href="#網路要求">網路要求</a></li>
      </ul>
    </li>
    <li><a href="#創建部署用帳號">創建部署用帳號</a>
      <ul>
        <li><a href="#產生-ssh-public-key-pair">產生 SSH Public Key Pair</a></li>
        <li><a href="#散佈-public-key">散佈 Public Key</a></li>
      </ul>
    </li>
    <li><a href="#解壓縮離線安裝包檔">解壓縮離線安裝包檔</a></li>
  </ul>
</nav>
    </toc></div>
                                        
                                        
                                        <div class="docs-toc-mobile    d-print-none d-xl-none">
                                            <button id="toc-dropdown-btn" class="btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-offset="0,0" aria-expanded="false">
                                                Table of Contents
                                            </button>
<nav id="toc-mobile">
  <ul class="dropdown-menu">
    <li><a href="#環境初步設置">環境初步設置</a>
      <ul>
        <li><a href="#名詞解釋">名詞解釋</a></li>
      </ul>
    </li>
    <li><a href="#部署主機安裝">部署主機安裝</a>
      <ul>
        <li><a href="#系統要求">系統要求</a></li>
        <li><a href="#網路要求">網路要求</a></li>
      </ul>
    </li>
    <li><a href="#創建部署用帳號">創建部署用帳號</a>
      <ul>
        <li><a href="#產生-ssh-public-key-pair">產生 SSH Public Key Pair</a></li>
        <li><a href="#散佈-public-key">散佈 Public Key</a></li>
      </ul>
    </li>
    <li><a href="#解壓縮離線安裝包檔">解壓縮離線安裝包檔</a></li>
  </ul>
</nav></div>
                                        <div class="docs-content col-12 col-xl-9 mt-0">



    
    
      


                                            <div class="mb-0 d-flex">
                                                
                                                <h1 class="content-title mb-0">
                                                    準備部署環境
                                                    
                                                </h1>
                                            </div>
                                            
                                                <p class="lead mb-3">部署主機環境建置與前置設定</p>
                                            
                                            <div id="content" class="main-content" data-bs-spy="scroll" data-bs-root-margin="0px 0px -65%" data-bs-target="#toc-mobile">
                                                
    
    <div data-prismjs-copy="" data-prismjs-copy-success="" data-prismjs-copy-error="">
        
<div class="alert alert-default d-flex" role="alert">
  <div class="flex-shrink-1 alert-icon">
  
  <span class="material-icons size-20 me-2">
  notifications
  </span></div>
  
  <div class="w-100">除「創建部署用帳號」需在全部主機操作外，以下指令皆請於<strong>部署主機</strong>上進行操作</div>
  </div>
<h1 id="環境初步設置">環境初步設置 <a href="#%e7%92%b0%e5%a2%83%e5%88%9d%e6%ad%a5%e8%a8%ad%e7%bd%ae" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h1><h2 id="名詞解釋">名詞解釋 <a href="#%e5%90%8d%e8%a9%9e%e8%a7%a3%e9%87%8b" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><ul>
<li>部署主機：執行 Kubespray 腳本的主機</li>
<li>目標主機：欲安裝 Kubernetes 的主機</li>
</ul>
<h1 id="部署主機安裝">部署主機安裝 <a href="#%e9%83%a8%e7%bd%b2%e4%b8%bb%e6%a9%9f%e5%ae%89%e8%a3%9d" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h1><p>部署主機將用來執行 Kubespray 的環境，建議專機專用避免受其他外部因素影響。</p>
<h2 id="系統要求">系統要求 <a href="#%e7%b3%bb%e7%b5%b1%e8%a6%81%e6%b1%82" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><ul>
<li>Linux 主機 (VM 即可)</li>
<li>腳本執行環境已經全面容器化，因此部署主機的作業系統可為 Ubuntu、Debian、RHEL，如希望萬無一失則建議採用與目標主機相同之系統</li>
<li>設定過程中會自動安裝 <code>containerd</code> 與 <code>nerdctl</code> 等容器執行環境，若部署主機上已有安裝相關套件，建議移除避免異常</li>
<li>由於套件與鏡像容量較大，建議硬碟空間需 <code>&gt; 100GB</code></li>
</ul>
<h2 id="網路要求">網路要求 <a href="#%e7%b6%b2%e8%b7%af%e8%a6%81%e6%b1%82" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><ul>
<li>部署主機與目標主機之間網路需直接連通，不經過任何堡壘機</li>
</ul>
<h1 id="創建部署用帳號">創建部署用帳號 <a href="#%e5%89%b5%e5%bb%ba%e9%83%a8%e7%bd%b2%e7%94%a8%e5%b8%b3%e8%99%9f" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h1><p>需要在每台<code>目標機器</code>建立帳號以供 Kubespray 腳本用來安裝，且該帳號需滿足以下條件</p>
<ul>
<li>擁有 <code>sudo</code> 權限</li>
<li>開啟能以 Public Key 登入</li>
</ul>
<h2 id="產生-ssh-public-key-pair">產生 SSH Public Key Pair <a href="#%e7%94%a2%e7%94%9f-ssh-public-key-pair" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><p>在部署主機上產生 RSA Key Pair</p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="aa200ba" class="language-bash ">
  <code>if [[ ! -e ~/.ssh/id_rsa.pub &amp;&amp; ! -e ~/.ssh/id_rsa ]]; then
  ssh-keygen -N &#34;&#34; -t rsa
fi</code>
  </pre>
  </div>
<h2 id="散佈-public-key">散佈 Public Key <a href="#%e6%95%a3%e4%bd%88-public-key" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><p>把剛產生的 Public Key 安裝到<strong>所有</strong>目標主機上</p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="d354032" class="language- ">
  <code>ssh-copy-id &lt;deploy-account&gt;@&lt;target-server-IP&gt;</code>
  </pre>
  </div>
<h1 id="解壓縮離線安裝包檔">解壓縮離線安裝包檔 <a href="#%e8%a7%a3%e5%a3%93%e7%b8%ae%e9%9b%a2%e7%b7%9a%e5%ae%89%e8%a3%9d%e5%8c%85%e6%aa%94" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h1><p>將交付的打包檔 <code>output.tar</code> 放置到<strong>部署主機</strong>的登入帳號之家目錄，並解封至家目錄下</p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="e1defeb" class="language- ">
  <code>tar -xf output.tar -C ${HOME}/
cd ${HOME}/outputs/ &amp;&amp; chmod a&#43;x *.sh</code>
  </pre>
  </div>

    </div>

    





    
    






<div class="gitinfo d-flex flex-wrap justify-content-between align-items-center opacity-85 visually-hidden">
    
    
</div>

    

    
<div class="container d-flex align-items-center justify-content-center">
    <div id="feedback-widget-emoticon" class="mt-4">
        <div id="feedback-cta" class="d-flex justify-content-center py-1">
            <span class="fs-6 align-self-center align-middle ms-2 me-0">
                Was this page helpful?
            </span>
            <div class="d-flex">
                <div class="form-emoji d-flex ps-2">
                    
                    <div class="radio-emoji">
                        <input type="radio" name="feedback-emoticon" autocomplete="off" value="Very Satisfied" id="radio_0" required>
                        <label class="d-flex justify-content-center align-items-center" for="radio_0">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M480-260q68 0 123.5-38.5T684-400H276q25 63 80.5 101.5T480-260ZM312-520l44-42 42 42 42-42-84-86-86 86 42 42Zm250 0 42-42 44 42 42-42-86-86-84 86 42 42ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z" fill="currentColor"/></svg>
                            
                        </label>
                    </div>
                    
                    <div class="radio-emoji">
                        <input type="radio" name="feedback-emoticon" autocomplete="off" value="Satisfied" id="radio_1" required>
                        <label class="d-flex justify-content-center align-items-center" for="radio_1">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M620-520q25 0 42.5-17.5T680-580q0-25-17.5-42.5T620-640q-25 0-42.5 17.5T560-580q0 25 17.5 42.5T620-520Zm-280 0q25 0 42.5-17.5T400-580q0-25-17.5-42.5T340-640q-25 0-42.5 17.5T280-580q0 25 17.5 42.5T340-520Zm140 260q68 0 123.5-38.5T684-400h-66q-22 37-58.5 58.5T480-320q-43 0-79.5-21.5T342-400h-66q25 63 80.5 101.5T480-260Zm0 180q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z" fill="currentColor"/></svg>
                            
                        </label>
                    </div>
                    
                    <div class="radio-emoji">
                        <input type="radio" name="feedback-emoticon" autocomplete="off" value="Dissatisfied" id="radio_2" required>
                        <label class="d-flex justify-content-center align-items-center" for="radio_2">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M620-520q25 0 42.5-17.5T680-580q0-25-17.5-42.5T620-640q-25 0-42.5 17.5T560-580q0 25 17.5 42.5T620-520Zm-280 0q25 0 42.5-17.5T400-580q0-25-17.5-42.5T340-640q-25 0-42.5 17.5T280-580q0 25 17.5 42.5T340-520Zm140 100q-68 0-123.5 38.5T276-280h66q22-37 58.5-58.5T480-360q43 0 79.5 21.5T618-280h66q-25-63-80.5-101.5T480-420Zm0 340q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z" fill="currentColor"/></svg>
                            
                        </label>
                    </div>
                    
                    <div class="radio-emoji">
                        <input type="radio" name="feedback-emoticon" autocomplete="off" value="Very Dissatisfied" id="radio_3" required>
                        <label class="d-flex justify-content-center align-items-center" for="radio_3">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M480-420q-68 0-123.5 38.5T276-280h408q-25-63-80.5-101.5T480-420Zm-168-60 44-42 42 42 42-42-42-42 42-44-42-42-42 42-44-42-42 42 42 44-42 42 42 42Zm250 0 42-42 44 42 42-42-42-42 42-44-42-42-44 42-42-42-42 42 42 44-42 42 42 42ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z" fill="currentColor"/></svg>
                            
                        </label>
                    </div>
                    
                </div>
            </div>
        </div>

        <div id="feedback-emoji-end" class="d-flex justify-content-md-start justify-content-sm-center">
        </div>

        <div id="feedback-send">
            <div id="text-wrapper">
                <textarea id="textarea-emoji" cols="55" maxlength="500" rows="3" placeholder="(Optional) Try to be as specific and detailed as possible!" type="text" class="feedback-textarea-emoji p-2 mb-2"></textarea>
            </div>
            <div id="feedback-emoji-submit-container" class="d-flex justify-content-end">
                <button type="button" id="feedback-emoji-submit-button" class="feedback-submit-emoji-btn btn btn-sm btn-primary mt-1 mb-2" role="button" type="submit" disabled>
                        Submit
                </button>
            </div>
        </div>
    </div>
</div>

<script>
    const emojiTextWrapper = document.getElementById("text-wrapper");
    const emojiRadios = document.querySelectorAll('input[name="feedback-emoticon"]');
    const emojiContainer = document.getElementById("feedback-widget-emoticon");
    const feedbackEmojiCta = document.getElementById("feedback-cta");
    const feedbackEmojiSubmitContainer = document.getElementById("feedback-emoji-submit-container");
    const feedbackEmojiSubmitBtn = document.getElementById("feedback-emoji-submit-button");

    
    emojiRadios.forEach(emojiRadio => {
        emojiRadio.addEventListener('change', function(event) {
            const emojiRadioID = event.target.id;
            emojiContainer.style.borderRadius = '8px'
            feedbackEmojiCta.classList.add("px-4");
            emojiTextWrapper.classList.add("is-visible");
            feedbackEmojiSubmitBtn.removeAttribute("disabled");
            feedbackEmojiSubmitContainer.classList.add("is-visible");
            
            
            
            
        })
    });

    
    feedbackEmojiSubmitBtn.addEventListener('click', event => {
        const result = document.getElementById("feedback-emoji-end");
        const sendArea = document.getElementById("feedback-send");
        const rating = document.querySelector('input[name="feedback-emoticon"]:checked').value;
        const message = document.getElementById('textarea-emoji').value;
        function success(e) {
            feedbackEmojiCta.remove();
            sendArea.remove();
            result.innerHTML = 'Thank you for helping to improve Lotus Docs\u0027 documentation!';
            result.classList.add("is-visible");
        }
        try {
            plausible('Feedback',
                {
                    callback: success,
                    props:
                    {
                        rating: rating,
                        message: message
                    }
                }
            )
            } catch (err) {
            console.log(err);
            feedbackEmojiCta.remove();
            sendArea.remove();
            result.innerHTML = 'Sorry! There was an error while attempting to submit your feedback!';
            result.classList.add("is-visible");
        }
        
    });
</script>


    
                                            </div>
                                            <div><hr class="doc-hr">
<div id="doc-nav" class="d-print-none">

	<div class="row flex-xl-nowrap flex-row-reverse">
	<div class="col-sm-6 pt-2 doc-prev">
		<a class="ms-auto" href="/zh-hant/docs/deployment/enter-kubespray-exe-env/">
			<div class="card h-100 my-1 text-end">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0">啟動 Kubespray 執行環境 <i class="material-icons align-middle">navigate_next</i></p>
					<p class="card-text me-2">載入所需套件以及啟動 Kubespray 執行環境</p>
					
				</div>
			</div>
		</a>
        </div>
	</div>
</div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
<footer class="shadow py-3 d-print-none">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col">
                <div class="text-sm-start text-center mx-md-2">
                    <p class="mb-0">
                        
                        © 2024 Srcmesh Co., Ltd. Built with <a href="https://github.com/colinwilson/lotusdocs"><strong>Lotus Docs</strong></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>
</main>
            </div>
        </div>

        
        
        <button onclick="topFunction()" id="back-to-top" aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12,10.224l-6.3,6.3L4.32,15.152,12,7.472l7.68,7.68L18.3,16.528Z" style="fill:#fff"/></svg></button>
        
        

        
        




    
        
        
    
    






    

    <script src="/docs/js/bootstrap.9bf1a2680076ecb3d5bf761d03e44316ea1546765dad06843315f94e5fd5d8e2257f2417a68c98561e887bfeac9556c9.js" integrity="sha384-m/GiaAB27LPVv3YdA&#43;RDFuoVRnZdrQaEMxX5Tl/V2OIlfyQXpoyYVh6Ie/6slVbJ"defer></script>


    <script type="text/javascript" src="/docs/js/bundle.min.ae2b3b4bbd3e20733dfdde283932656ca1346213a123ef4d8a093eb07bc66881ea360d1194a4c8454b4bda0234e1947e.js" integrity="sha384-ris7S70&#43;IHM9/d4oOTJlbKE0YhOhI&#43;9Nigk&#43;sHvGaIHqNg0RlKTIRUtL2gI04ZR&#43;" crossorigin="anonymous" defer></script>
        

        
        <script type="module">
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "full",
        minlength:  3 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/zh-hant\/docs\/deployment\/setup-deploy-enviroment\/",
                title: "準備部署環境",
                description: "部署主機環境建置與前置設定",
                content: " notifications 除「創建部署用帳號」需在全部主機操作外，以下指令皆請於部署主機上進行操作 環境初步設置 link名詞解釋 link 部署主機：執行 Kubespray 腳本的主機 目標主機：欲安裝 Kubernetes 的主機 部署主機安裝 link部署主機將用來執行 Kubespray 的環境，建議專機專用避免受其他外部因素影響。\n系統要求 link Linux 主機 (VM 即可) 腳本執行環境已經全面容器化，因此部署主機的作業系統可為 Ubuntu、Debian、RHEL，如希望萬無一失則建議採用與目標主機相同之系統 設定過程中會自動安裝 containerd 與 nerdctl 等容器執行環境，若部署主機上已有安裝相關套件，建議移除避免異常 由於套件與鏡像容量較大，建議硬碟空間需 \u003e 100GB 網路要求 link 部署主機與目標主機之間網路需直接連通，不經過任何堡壘機 創建部署用帳號 link需要在每台目標機器建立帳號以供 Kubespray 腳本用來安裝，且該帳號需滿足以下條件\n擁有 sudo 權限 開啟能以 Public Key 登入 產生 SSH Public Key Pair link在部署主機上產生 RSA Key Pair\nif [[ ! -e ~/.ssh/id_rsa.pub \u0026\u0026 ! -e ~/.ssh/id_rsa ]]; then ssh-keygen -N \"\" -t rsa fi 散佈 Public Key link把剛產生的 Public Key 安裝到所有目標主機上\nssh-copy-id @ 解壓縮離線安裝包檔 link將交付的打包檔 output.tar 放置到部署主機的登入帳號之家目錄，並解封至家目錄下\ntar -xf output.tar -C ${HOME}/ cd ${HOME}/outputs/ \u0026\u0026 chmod a+x *.sh "
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/zh-hant\/docs\/deployment\/enter-kubespray-exe-env\/",
                title: "啟動 Kubespray 執行環境",
                description: "載入所需套件以及啟動 Kubespray 執行環境",
                content: " notifications 以下指令皆請於部署主機上進行操作 啟動安裝環境 link以下指令將解壓部署腳本，並以容器方式啟動所有安裝過程中所需的服務容器\ncd ${HOME}/outputs/ \u0026\u0026 ./extract-kubespray.sh (Optional) 如需手動移除舊有資料 sudo /usr/local/bin/nerdctl rm -f $(sudo /usr/local/bin/nerdctl ps -a -q) sudo /usr/local/bin/nerdctl rmi -f $(sudo /usr/local/bin/nerdctl images -a -q) sudo /usr/local/bin/nerdctl ps -a sudo /usr/local/bin/nerdctl images -a sudo rm -rf ${HOME}/mycluster/ ${HOME}/outputs/ 設定離線安裝之部署 Package Repo 與 Container Registry\n設定遠端 Container Registry link企業內部通常會有用來存放鏡像的 Container Registry (i.e Harbor, Quay)\n需要在部署前將此次所用的到鏡像推送到 Container Registry 儲存，避免後續鏡像因故消失無法重新自遠端下載。\ncd ${HOME}/outputs/ \u0026\u0026 vim config.sh 正式環境部署務必調整以下參數 (測試環境可以略過)\nREGISTRY_HOST=${REGISTRY_HOST:-\"localhost\"} REGISTRY_PORT=${REGISTRY_PORT:-35000} REGISTRY_REPO=${REGISTRY_REPO:-\"\"} REGISTRY_USER=${REGISTRY_USER:-\"\"} REGISTRY_PASSWORD=${REGISTRY_PASSWORD:-\"\"} 啟動相關服務 link report 以下指令會將套件與鏡像進行解壓縮將佔用大量硬碟空間，請務必確保主機上有至少 30GB 以上之空間 cd ${HOME}/outputs/ \u0026\u0026 ./setup-all.sh 自動化腳本內的流程驟說明 (無需手動執行) 設定防火牆 (RHEL)\nsudo firewall-cmd –zone=public –add-port=35000/tcp –permanent sudo firewall-cmd –zone=public –add-service=http –permanent sudo firewall-cmd –reload 安裝 containerd\n載入部署用的映像檔 - nginx / registry / kubespray\n啟動 Nginx\nstart-nginx.sh 在部署主機建立起 Web Service，讓目標主機可以連到此處下載對應的BINARY/DEB/RPM套件。 啟動 Image Registry\nstart-registry.sh 在部署主機建立起 Private Registry，讓目標主機可以連到此處下載對應的 Container Images。 載入 Kubernates Container Images into Local Private Registry\nload-push-all-images.sh 由於上一個步驟只是把 Private Registry 架設起來，裡面是沒有任何 Container Image 可供下載的。此步驟就是把 local 端的 Container Images 全部都匯入。 進入 Kubespray 執行環境 link以下指令會自動化掛載相關的路徑後進入 Kubespray 腳本執行環境的容器內\ncd ${HOME}/outputs/ \u0026\u0026 ./start-kubespray.sh 手動進入方式 最新指令請參考 start-kubespray.sh "
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/zh-hant\/docs\/deployment\/config-adjustment\/",
                title: "部署參數調整",
                description: "安裝前的 Kubespray 部署參數調整",
                content: " report 以下指令操作請在佈署主機上的 Kubespray Container 內執行，如不知道如何進行請參考"
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/zh-hant\/docs\/deployment\/installation\/",
                title: "安裝 Kubernetes",
                description: "開始安裝 Kubernetes 叢集",
                content: " report 以下指令操作請在佈署主機上的 Kubespray Container 內執行，如不知道如何進行請參考"
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/zh-hant\/docs\/deployment\/upgrade\/",
                title: "升級 Kubernetes",
                description: "開始升級 Kubernetes 叢集",
                content: " report 以下指令操作請在佈署主機上的 Kubespray Container 內執行，如不知道如何進行請參考"
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/zh-hant\/docs\/deployment\/troubleshooting\/",
                title: "故障排除",
                description: "開始安裝 Kubernetes 叢集",
                content: "kubectl 指令找不到 link sudo su -c \"echo 'export PATH=\\${PATH}:/usr/local/bin' \u003e\u003e /root/.bashrc\" 目標節點下載失敗 link 下載第一個檔案就失敗 在目標主機上執行 curl [http://\u003c部署主機 IP\u003e/ --output /tmp/trash.bin 檢查 佈署主機 防火牆是否有開通 Port : 80 \u0026 35000 檢查 佈署主機 Nginx \u0026 Registry 服務是否有起來 檢查 佈署主機 資料目錄內是否有此對應的檔案 中間某個檔案單獨失敗 檢查檔案是否存在 到 ${HOME}/outputs/files/ 下確認此檔案是否存在，以及版本等資訊是否一致 檢查檔案 Hash 值是否正確 執行 Ansible-playbook 時加上 -v, -vvv, -vvvvvv 檢視詳細的 debug資訊，確認比對的 hash 值 移除 ${kubespray_project}/roles/download/tasks/download_file.yml 內，get_url module 內的 nolog 項目 Hash 值存放的位置：${kubespray_project}/roles/download/defaults/main.yml 推薦的修復方式：新增 ${kubespray_inventory_dir}/group_vars/all/patch.yml，並且在裡面設定一樣的變數名稱來取代錯誤的 hash 值。此方式新增的變數優先權比 roles/download/defaults/main.yml 高，所以執行時會自動替代掉舊值。 NodeLocalDNS CrashLoopBackOff 問題 link現階段可行目前解法如下\n修改 /inventory/group_vars/ks8_cluster/k8s-cluster.yml 內 resolvconf_mode 成 none 移除 /inventory/group_vars/all/all.yml內upstream_dns_servers前面的註解符號，讓此處的設定指向至少一個 DNS，此處的範例直接沿用官方的範例 8.8.8.8 \u0026 8.8.4.4。 參考來源 如果該環境內部並未使用 DNS，可以採取另一個方案\n修改 /inventory/group_vars/ks8_cluster/k8s-cluster.yml 內 enable_nodelocaldns 成 false Flannel 安裝失敗 link 安裝到一半顯示 Timeout when waiting for file /run/flannel/subnet.env subnet.env 為 CNI Pod 啟動時自動產生，需先查明不能啟動的原因 檢查 nodes 上面是否缺 default route (ex : 0.0.0.0/0)，flannel 啟動時是透過搜尋 default route 為哪張網卡決定他要綁在哪個裝置上。 查測方式 kubectl get pods -A 取得掛掉的 Pod Name kubectl logs -n kube-system {Pod Name} 檢視問題 Timeout (12s) waiting for privilege escalation prompt link如出現 fatal: [node1]: FAILED! =\u003e {\"msg\": \"Timeout (12s) waiting for privilege escalation prompt: \"}\n確定是不是 VM 給太少記憶體，造成虛擬基網卡異常。 進入容器後，RHEL 因為預設的設定問題會造成 SSH 超時，建議執行下列指令 cat \u003e ~/.ssh/config \u003c\u003c EOF GSSAPIAuthentication no GSSAPIDelegateCredentials yes EOF sudo 卡住，多數原因為 sudo 會進行 hostname 的 DNS 反查，/etc/hosts 內缺此主機的 host 對應時即可能發生 hostname | awk '{print \"127.0.0.1 \"$1}' \u003e\u003e /etc/hosts dial tcp x.x.x.x:6443: connect: no route to host link TASK [kubernetes/kubeadm : Join to cluster] **************************************************************************** fatal: [worker1]: FAILED! =\u003e {\"changed\": false, \"cmd\": [\"timeout\", \"-k\", \"120s\", \"120s\", \"/usr/local/bin/kubeadm\", \"join\", \"--config\", \"/etc/kubernetes/kubeadm-client.conf\", \"--ignore-preflight-errors=DirAvailable--etc-kubernetes-manifests\", \"--skip-phases=\"], \"delta\": \"0:01:00.446181\", \"end\": \"2024-01-17 14:02:52.298855\", \"msg\": \"non-zero return code\", \"rc\": 1, \"start\": \"2024-01-17 14:01:51.852674\", \"stderr\": \"\\t[WARNING FileExisting-tc]: tc not found in system path\\nerror execution phase preflight: couldn't validate the identity of the API Server: Get \\\"https://192.168.2.61:6443/api/v1/namespaces/kube-public/configmaps /cluster-info?timeout=10s\\\": dial tcp 192.168.2.61:6443: connect: no route to host\\nTo see the stack trace of this error execute with --v=5 or higher\", \"stderr_lines\": [\"\\t[WARNING FileExisting-tc]: tc not found in system path\", \"error execution phase preflight: couldn't validate the identity of the API Server: Get \\\"https://192.168.2.61:6443/api/v1/namespaces/kube-public/configmaps/cluster-info?timeout=10s\\\": dial tcp 192.168.2.61:6443: connect: no route to host\", \"To see the stack trace of this error execute with --v=5 or higher\"], \"stdout\": \"[preflight] Running pre-flight checks\", \"stdout_lines\": [\"[preflight] Running pre-flight checks\"]} Wednesday 17 January 2024 19:02:52 +0000 (0:01:01.433) 0:19:41.762 ***** TASK [kubernetes/kubeadm : Display kubeadm join stderr if any] ***************************************************************************************************************************************************** ok: [worker1] =\u003e { \"msg\": \"Joined with warnings\\n['\\\\t[WARNING FileExisting-tc]: tc not found in system path', 'error execution phase preflight: couldn\\\\'t validate the identity of the API Server: Get \\\"https://192.168.2.61:6443/api/v1/namespaces/kube-public/configmaps/cluster-info?timeout=10s\\\": dial tcp 192.168.2.61:6443: connect: no route to host', 'To see the stack trace of this error execute with --v=5 or higher']\\n\" } Wednesday 17 January 2024 19:03:53 +0000 (0:00:00.049) 0:20:43.119 ***** 執行過程中部分節點無法連線到 Kubernetes API Server，且出現 no route to host\n確定節點間網路皆正常異常\n先檢測兩節點間網路是否通暢，可以使用任何網路工具 (i.e ping) 確認是否能連通 可能是 VLAN tag、路由、實體網路出現狀況而導致\n嘗試連線 Kubernetes API Server\ncurl https://x.x.x.x:6443 防火牆\n若此時出現 no route to host 但節點間網路是可以互相連通，很可能就是防火牆導致 連到該 IP 所屬節點後，利用指令檢查防火牆狀況\n$ sudo firewall-cmd --list-all public (active) target: default ... services: cockpit dhcpv6-client dns https kube-worker ssh ports: \u003c---- 為空表示沒有開放任何 Port protocols: ... 加入規則開放 6443\nsudo firewall-cmd --add-port=6443/tcp --permanent sudo firewall-cmd --reload sudo firewall-cmd --list-all 確認 6443 是否成功加入，若成功會看到 ports: 6443/tcp\n可以查看"
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/zh-hant\/docs\/deployment\/kubernetes-ports\/",
                title: "Kubernetes 埠號",
                description: "Kubernetes 所使用到的相關埠號",
                content: "Control Plane Node link port explain 2379/tcp Client =\u003e ETCD Server 2380/tcp ETCD \u003c=\u003e ETCD 資料互相同步使用 6443/tcp Client =\u003e Client =\u003e Kube Api Server : The Kubernetes API server validates and configures data for the api objects which include pods, services, replicationcontrollers, and others. 10252/tcp Kube Controller Manager : The Kubernetes controller manager is a daemon that embeds the core control loops shipped with Kubernetes. 10251/tcp Kubernetes Scheduler : The Kubernetes scheduler is a policy-rich, topology-aware, workload-specific function that significantly impacts availability, performance, and capacity. 443/tcp Kube Api Server也會用到 Worker Node \u0026 Control Plane Node link port explain 10250/tcp Kubernetes Kubelet : The kubelet API is used to communicate between kube-scheduler and the node. 10255/tcp kubelet : Unauthenticated read-only port, allowing access to node state 10256/tcp kube-proxy : Health check server for Kube Proxy 30000-32767/tcp Services of type NodePort expose a port on each worker 53/tcp \u0026 53/udp DNS 443/tcp Api Server 4149/tcp kubelet : Default cAdvisor port used to query container metrics Others link port explain 22/tcp SSH 80/tcp Web or Ingress "
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/zh-hant\/docs\/",
                title: "Documentation",
                description: "Explore our guides and examples to deploy your Hugo site using the Lotus Docs theme.",
                content: ""
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/zh-hant\/docs\/deployment\/",
                title: "Kubernetes 叢集建置",
                description: "Kubernetes 安裝環境準備與建置教學",
                content: ""
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  3 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script>
        
    </body>
</html>